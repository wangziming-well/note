# MySQL概述

Mysql是一个可移植的数据库，几乎在当前所有系统上都能运行。

## 数据库和实例

在数据库领域，数据库和数据库实例是两个不同的概念：

* 数据库：物理操作系统文件或者其他形式文件类型的集合。在MySQL数据库中，数据库文件可以是frm、MYD、MYI、ibd结尾的文件
* 实例：MySQL数据库由后台线程以及一个共享内存区域组成。数据库实例时用来操作数据库文件的。

在MySQL中，实例和数据库的关系通常是一一对应的，即一个实例对应一个数据库，一个数据库对应一个实例。但在集群情况下，可能存在一个数据库被多个数据实例使用的情况。

MySQL是一个单进程多线程架构的数据库，MySQL数据库实例在系统上的表现就是一个进程。

##  配置文件

Mysql的配置文件是`my.cnf`，一个Mysql可以在不同位置有多个配置文件，比如在liunx环境下输入`mysql --help | grep m.cnf`输出为：

~~~cmd
		order of preference, my.cnf, $MYSQL_TCP_PORT,
/etc/my.cnf /etc/mysql/my.cnf /user/etc/my.cnf ~/.my.cnf
~~~

可以看到，MySQL数据库是按照`/etc/my.cnf` 、 `/etc/mysql/my.cnf` 、`/user/etc/my.cnf` 、`~/.my.cnf`的顺序在这几个位置读取配置文件的。如果有几个配置文件都配置了相同的参数，MySQL数据库以最后一个配置文件中的参数为准。在Liunx环境下，配置文件一般放在`/etc/my.cnf`下

# MySQL体系结构

MySQL数据库的体系结构如图：

![MySQL体系结构图](https://gitee.com/wangziming707/note-pic/raw/master/img/MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%9B%BE.jpg)

由此可知，MySQL由如下几个部分组成：

* 连接池组件
* 管理服务和工具组件
* SQL接口组件
* 查询分析器组件
* 优化器组件
* 缓冲组件
* 插件式存储引擎
* 物理文件

MySQL数据库区别于其他数据库的重要特点是其插件式的表存储引擎。这个存储引擎是基于表的，而不是数据库。

# MySQL存储引擎

我们已经知道了MySQL结构体系最特殊的是插件式的存储引擎。这样的好处是，每个存储引擎都有各自的特点，可以根据具体的应用建立不同的存储引擎表。接下来简单介绍各种存储引擎

## InnoDB存储引擎

InnoDB存储引擎支持事务，其设计目标主要面向在线事务处理的应用。其特点是行锁设计、支持外键，并支持非锁定读，即默认读取操作不会产生锁。

从MySQL5.5.8开始，InnoDB是默认的存储引擎。

















