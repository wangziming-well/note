# 关键字和标识符

关键字：被Java语言赋予特殊含义，用作专门用途的的字符串

* 特点：所有全部都是小写

标识符：表示起一定标识作用的符号。标识作用的符号是指程序中定义的名称。

* 命名规则：
    * 取值范围：`a-z` `A-Z` `0-9` `_` 和`$`
    * 数字不能开头
    * 不能直接使用关键字或者保留字，但是可以包含关键字和保留字
    * 严格区分大小写，长度无限制
    * 标识符不可以包含空格
* 规范：
    * 包名：多单词组成时所有字母都小写
    * 类名，接口名：多单词组成时，所有单词的首字母大写
    * 变量名、方法名：多单词组成时，第一个单词首字母小写，第二个单词开始每个单词首字母大写
    * 常量名：所有字母都大写。多单词时每个单词用下划线连接
    * 尽管`$`是一个合法的Java字符，但不能在代码中使用这个字符。它只用于在Java编译器或者其他工具生成的名字中。

# 基本数据类型

Java是一种强类型语言。必须为每一个变量声明一种类型。

Java中数据类型分为基本数据类型与引用数据类型，现在只介绍基本数据类型，引用数据类型会在面向对象中详细介绍

Java一共有八种数据类型，其中有4种整型、2种浮点类型、1种字符类型和1种boolean类型

## 整型

| 关键字 | 又称   | 占用内存      | 取值范围         |
| ------ | ------ | ------------- | ---------------- |
| byte   |        | l byte (8bit) | [-2^7^,2^7^-1]   |
| short  | 短整型 | 2byte (16bit) | [-2^15^,2^15^-1] |
| int    | 整型   | 4byte (32bit) | [-2^31^,2^31^-1] |
| long   | 长整型 | 8byte (64bit) | [-2^63^,2^63^-1] |

字面量:

* 整型字面量直接用数字表示，默认类型为int
* long类型的字面量有一个后缀`L`或者`l`，如`1000000L`
* 十六进制数值字面量有一个前缀 Ox 或 0X如 :`OxCAFE`
* 八进制数值字面量有一个前缀 0 , 如` 010`
* 二进制数值字面量有一个前缀`0b`或者`0B`,如`0B101`

## 浮点型

浮点类型用于表示有小数部分的数值。

| 类型         | 关键字 | 占用内存 |
| ------------ | ------ | -------- |
| 单精度浮点数 | float  | 4byte    |
| 双精度浮点数 | double | 8byte    |

* 用带小数部分的数值表示浮点型字面量，默认类型为double
* 单精度浮点类型的数值字面量有一个后缀`f`或`F`，如：`3.14f`

## 字符类型

关键字：`char`

字面量为被单引号标注的单个字符

码点 （ code point ) 是指与一个编码表中的某个字符对应的代码值。 在 Unicode 标准中，码点采用十六进制书写，并加上前缀 U+, 例如 U+0041 就是拉丁字母 A 的码点

UTF-16 编码采用不同长度的编码表示所有 Unicode 码点。在基本的多语言级别中，每个字符用 16 位表示，通常被称为代码单元（code unit)

在 Java 中，char 类型描述了 UTF-16 编码中的一个代码单元。

在程序中最好不要直接使用`char`类型

## 布尔类型

关键字：`boolean`

取值：`true `、`false`

# 变量

Java是强类型语言，在Java中每个变量都有一个类型(type)，可以是基本数据类型或者引用数据类型。

## 声明变量

在声明变量时，变量的类型位于变量名之前，格式为`变量类型 变量名`，例如：

~~~java
int number;
boolean done;
String str;
~~~

变量的声明是一条完整的Java语句，所以必须以分号结束。

变量名是Java标识符的一种，必须符合标识符的规则规范

可以在一行中声明多个变量:

~~~java
int i,j;
~~~

不过，不提倡使用这种风格。逐一声明每一个变量可以提高程序的可读性。

在Java中可以将声明放在代码中的放在代码中的任何地方。

但编程时变量的声明最好尽可能靠近变量第一次使用的地方，这是一种良好的程序编写风格。

## 变量初始化

声明了一个变量之后，必须用赋值语句对变量进行显式初始化。

使用未初始化的变量是错误的:

~~~java
String  str;
System.out.println( str );//编译报错
~~~

可以用等号对未初始化的变量进行赋值:

~~~java
int i ;
i = 10;
~~~

也可以将变量的声明和初始化放在同一行:

~~~java
int i = 10;
~~~

## 常量

关键字`final`指示常量,例如:

~~~java
final double PAI = 3.14;
~~~

常量只能被赋值一次，一旦被赋值之后，就不能再更改了

# 运算符

## 算数运算符

Java中用`+ - * / %`表示加、减、乘、除、取模运算，用于数值运算

这与数学中的运算符的含义一致

## 数值自动类型转换

经常需要将一种数值类型转换为另一种数值类型，Java中合法的数值类型之间的转换如下:

![合法数值类型转换](https://gitee.com/wangziming707/note-pic/raw/master/img/%E5%90%88%E6%B3%95%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2.png)

其中实箭头表示无信息丢失的转换，虚箭头表示可能有精度损失的转换。

上述转换是隐式的，自动的，在进行数值二元运算和赋值时这些转换会自动发生

### 赋值中的自动类型转换

在赋值中允许将上图中箭头尾的类型变量或者字面量赋值给箭头指向的类型变量，如:

~~~java
int a = 'c';
double b = 10;
byte c = 21;
short d = c;
......
~~~

### 二元运算中的自动类型转换

在使用两个不同类型的数值进行二元操作时，首先会将两个操作数转换为同一种类型，然后再进行计算:

* 如果操作数中有一个是double，另一个操作数就会转换为double类型
* 否则，如果其中一个操作数是float类型，另一个操作数将会转换为float类型
* 否则，如果其中一个操作数为long类型，另一个操作数将会转换为long类型
* 否则，两个操作数都将被转化为int类型

## 数值强制类型转换

上述的类型转换是Java允许的自动的、隐式的类型转换。但是有时候，我们需要自动数值类型转换允许之外的类型转换，比如将double类型转换成int类型。

这就需要使用显示声明的强制类型转换来完成,在变量或者字面量加上格式为`(type)`，表示将当前变量类型强制转换为括号中的类型，如:

~~~java
double a = 3.14;
int b = (int) a;
~~~

一般强制类型转换会丢失一些信息，如浮点类型转换为整型时，会自动去掉小数点后的信息。

**注意：**如果将一个数值从一种类型强制转换为另一种类型，但又超出了目标类型的表示范围，结果将会截断成一个完全不同的值。

例如`(byte)300`的实际值为44.

## 混合赋值运算符

可以在赋值中使用二元运算符,例如：

~~~java
x += 4;
~~~

等价于:

~~~java
x = x +4;
~~~

如果运算符得到一个值，其类型于左侧操作符数的类型不同，就会发生隐式的强制类型转换

~~~java
int x = 1;
x += 3;  //这是合法的，这相当于 x = (int)(x+3.5)
~~~

## 一元运算符

| 运算符 | 运算                               | 实例                   | 结果              |
| ------ | ---------------------------------- | ---------------------- | ----------------- |
| ++     | 自增（前缀），先（自增）运算再取值 | a = 3;<br />b = ++a;   | a =4<br />b = 4   |
| ++     | 自增（后缀），先取值再（自增）运算 | a = 3;<br />b = a ++； | a = 4<br />b = 3  |
| --     | 自减（前缀），先（自减）运算再取值 | a = 3;<br />b = --a;   | a = 2<br />b = 2  |
| --     | 自减（后缀），先取值再（自减）运算 | a = 3;<br />b = a --   | a  = 2<br />b = 3 |

自增自减的操作数必须时变量，不能时字面量

## 关系运算符

关系运算符用来计算两个值之间的关系，计算结果为boolean值:

* `==`相等
* `!=`不等
* `>、>=`大于、大于等于

* `<、<=`小于、小于等于

和算数运算一样，关系运算也属于二元运算，对于基本数据类型，适用于自动类型转换

**注意:**对于引用数据类型，只能进行相等和不等的比较，而且比较的是引用的地址值

## 逻辑运算符

参与逻辑运算的表达式都是布尔类型，结果也是布尔类型

* 与操作：       
    * 含义：一假即假
    * 符号
        * 逻辑操作：`&`  
        * 短路操作：`&&`
    * 敏感条件：`false `
* 或操作：
    * 含义：一真即真
    * 符号:
        * 逻辑操作：`|` 
        * 短路操作：`||`
    * 敏感条件：`true `

* 逻辑操作和短路操作：
    * 逻辑操作 顺序执行，即使找到了第一个满足了逻辑运算的敏感条件的表达式，也会执行后续表达式
    * 短路操作 顺序执行，只要找到了第一个满足了逻辑运算的敏感条件的表达式，就不会执行后续的表达式
    * 短路操作比逻辑操作更安全也更高效，在后续学习和开发下，主要使用短路操作

* 异或操作：
    * 含义：相异为真
    * 符号：`^`
* 非操作：
    * 含义：取反
    * 符号：`!`

## 位运算符

位运算直接对整数对应的二进制位进行运算操作

| 运算       | 符号   |
| ---------- | ------ |
| 按位与     | a & b  |
| 按位或     | a \| b |
| 按位异或   | a ^ b  |
| 按位取反   | ~a     |
| 左移       | a <<b  |
| 带符号右移 | a >> b |
| 无符号右移 | a>>> b |

运算名以按位前缀开始的，表示对两个操作数对应二进制的每一位进行相应的逻辑运算，0表示false，1表示true，空位用0表示

比如按位与表示对每一位二进制数进行与操作,例如:

~~~java
0101 & 1001 = 0001;
0101 | 1001 = 1101;
0101 | 1001 = 1100;
~ 0101 =  1010;
~~~

左移右移表示对二进制位整体进行左移右移操作

## 三元/三目运算符

* 格式 ：

    ~~~java
     条件表达式 ? 表达式1 : 表达式2;
    ~~~

* 执行流程：

    * 先执行条件表达式；
    * 如果条件表达式的结果为true，就执行表达式1，并且将表达式1的执行结果作为整个三目运算的最终结果；
    * 如果条件表达式的结果为false，就执行表达式2，并且将表达式2的执行结果作为整个三目运算的最终结果；



# 流程控制

Java使用条件语句和循环结构确定控制流程

## 块作用域

块(即复合语句)是指由一对大括号括起来的若干个简单的Java语句。

块确定变量的作用域。一个块可以嵌套在另一个块中，例如:

~~~java
public static void main( String[] args ) {
    int i = 1;
    {
        int j = 2;//只在当前作用域获取
    }
}
~~~

外层嵌套块中无法访问内层嵌套块中的变量，而内层嵌套块中可以访问外层嵌套块中的变量。

## 条件语句

在Java中，条件语句的格式为

~~~java
if(condition) statement
~~~

这里的condition必须用括号括起来，且其值为boolean值

当condition的值为true是，执行紧跟着的statement

如果希望条件语句执行多条语句，可以用块语句(复合语句)来替代单条的statement:

~~~java
if(condition){
    statement1;
    statement2;
}
~~~

块语句可以在Java程序结构中原本只能放置一条简单语句的地方放置多条语句。

更一般的条件语句格式如下:

~~~java
if(condition) 
    statement1;
else statement2;
~~~

表示如果condition为true，执行statement1，否则执行statement2

当可以用块语句替代statement1和statement2

如果需要进行多重判断，可以使用如下格式的条件语句:

~~~java
if(condition1)
    statement1
else if(condition2)
    statement2
...
else if(conditionN)
    statementN
else
    statementN+1
~~~

依次执行condition条件，直到其中某个condition条件为true，则执行该condition条件紧跟着的statement；或者所有condition都为false，则执行最后的else 语句。

else结构是可选的。



## while循环

当条件为true时，while循环执行一条语句(或者块语句)，格式为:

~~~java
while (condition) statement
~~~

首先检测condition，如果为true，执行statement，然后再次检测condition...

直到condition为false，跳出循环，继续执行接下来的其他语句

该循环结构先检测条件，根据条件选择是否执行statement，所以statement可能不执行。如果希望循环体至少执行一次，可以使用`do/while`循环语句，它的语法如下:

~~~java
do statement while (condition);
~~~

该循环语句先执行statement，再检测循环条件。

## for循环

for循环语句时支持迭代的一种通用结构，利用每次迭代之后更新的计数器或类似的变量来控制迭代次数

* 普通for循环

~~~java
for ( statment1 ; condition ; statement3 )
    statement2;
~~~

一般情况下:

* statment1用于对计数器初始化，在该结构中只会在最开始被执行一次
* condition给出每次循环签要检测的条件，为true时继续循环
* statement2是执行的循环体
* statement3用于更新计数器

一个典型的for循环示例:

~~~java
int sum = 0;
for (int i = 1 ; i <= 10;i ++){
    sum += i ;
}
System.out.println(sum);
~~~

用于计算1到10的和

尽管Java允许在for循环的各个部分放置仍以表达式，但最好遵守以下规则:for语句的三个部分应该对同一计数器变量进行初始化、检测和更新。否则编写的循环常常晦涩难懂。

**注意:**在for语句上定义的变量的作用范围只在for结构

## switch语句

格式：

~~~java
switch(expression){
    case value1:
        ...
    case value2:
    	...
    default:
    	...
}
~~~

switch语句将从与expression值匹配的case标签出开始执行，直到遇到break语句跳出流程控制或者执行到switch语句的结束处为止。

如果没有相匹配的case标签，且有default子句，则执行这个子句。

case标签的值可以为:

* char、byte、short、int的常量表达式

* 枚举常量
* 字符串字面量

**注意：**如果在 case 分支语句的末尾没有 break 语句， 那么就
会接着执行下一个 case 分支语句。这就触发了多个case分支

## 中断流程控制语句

在循环结构中：

* `break`：立即结束最内层循环，执行接下来的其他语句

* `continue`：结束最内层的当此循环，继续下一次循环

**注意**：break continue 默认只控制所在的最近的循环的流程

如果想要break和continue作用到指定的循环而不是最内层循环，可以使用标签：

~~~java
lableName: for(...){
    for(...){
        break lableName;
    }
}
~~~



# 数组

数组是一种数据结构，用于存储同一类型值的集合。过一个整型下标可以访问数组中的每一个值 (获取数组中的元素值或者给数组中的元素赋值)

## 声明

数组类型由数据元素类型紧跟`[]`表示，声明数组变量格式如下:

~~~java
int[] a; 或者 int a[]; //一般使用第一种
~~~

## 初始化

声明数组变量`a`后需要进行变量初始化,使用`new`运算符创建数组:

~~~java
int[] a = new int[100];
~~~

表示创建一个长度为100的int型数组，并将其引用赋值给变量`a`

创建数组会初始化其中元素,不同类型的元素初始化为不同的值:

* 整数型：0
* 浮点型 ：0.0
* boolean型：false
* char: 空字符，ASCII对应编码为0
* 引用类型：null

需要通过下标访问数组元素对其赋值，以让该数组有实际意义。

也可以在初始化时直接对数组中的元素进行赋值:

~~~java
int[] a = new int[]{1,2,3};
~~~

其简化形式为:

~~~java
int[] a ={1,2,3};
~~~

## 注意

* 数组是引用类型，所以支持数组的元素也是数组，这样就是多维数组
* 数组是引用类型，直接将数组变量赋值给其他变量只是将其引用进行了复制。
