# 字符串体系



由String 类进行定义描述



## 特点

* 字符串类型没有子类型 被final修饰
* 字符串底层是数组(字符、字节)
* 字符串不可变：
    * 数据内容不可变
    * 引用指向可以改变

* 字符串数据内容被存储在字符串常量池中，相同的字符串内容只会创建一份==>共享数据



## 拓展

Java8版本：字符串底层是一个字符数组 ==>char[]

Java9版本以后： 字符串底层是一个字节数组 ==>byte[]



java6版本：字符串常量池存在方法区中

Java7版本：字符串常量池从方法区中挪动到了堆空间

Java8版本：字符串常量池又被从堆中移动到了Meta Data区（元数据区s)

## 拼接操作

+符号做字符串拼接时，如果有字符串变量参与运算，那么运算结果是存储在堆中的

只有两边都是常量的结果是存储在常量池



在常量池中 ==比较 ，结果才会为true

在堆中 == 比较，结果都为false



### intern（）

String intern() : 返回字符串对象的规范化表现形式

执行步骤：

​		字符串对象调用intern方法，jvm先会去常量池中查找是否已经存在该字符串数据：如果存在，就直接返回常量池的信息；

如果不存在，就直接在常量池中串讲该数据对象，然后再将该数据的常量池中的信息返回



## 常用构造方法

String() 
          初始化一个新创建的 String 对象，使其表示一个空字符序列。
String(String original) 
          初始化一个新创建的 String 对象，使其表示一个与参数相同的字符序列；换句话说，新创建的字符串是该参数字符串的副本。
String(byte[] bytes) 
          通过使用平台的默认字符集解码指定的 byte 数组，构造一个新的 String。
String(byte[] bytes, int offset, int length) 
          通过使用平台的默认字符集解码指定的 byte 子数组，构造一个新的 String。
String(char[] value) 
          分配一个新的 String，使其表示字符数组参数中当前包含的字符序列。
String(char[] value, int offset, int count) 
          分配一个新的 String，它包含取自字符数组参数一个子数组的字符。
String(StringBuffer buffer) 
          分配一个新的字符串，它包含字符串缓冲区参数中当前包含的字符序列。 
String(StringBuilder builder) 
          分配一个新的字符串，它包含字符串生成器参数中当前包含的字符序列。 







## 常用的方法

# 字符串缓冲区：

属于内存层面的容器

## 作用

​		定义了某些字符串数据，在实际开发环节需要对其进行频繁的改动，如果我们用字符串的原生api方法实现，每次改动都会在内存中产生一个新对象，内存浪费。

​		所以出现了字符串缓冲区技术。该技术对字符串内容进行改动操作，不会产生新对象。



## StringBUffer 和 StringBuilder类

|          | StringBuffer | StringBuilder |
| -------- | ------------ | ------------- |
| 线程安全 | √            | ×             |
| 效率高   | ×            | √             |
| 出现早   | √            | ×             |
| 方法     | 一样         | 一样          |




## 常用方法



